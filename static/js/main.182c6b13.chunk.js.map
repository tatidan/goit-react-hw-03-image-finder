{"version":3,"sources":["components/imageGallery/ImageGallery.js","components/modal/Modal.js","components/searchbar/Searchbar.js","App.js","index.js"],"names":["ImageGallery","state","ApiURL","ApiKEY","page","keyWord","photos","this","searchURL","console","log","axios","get","then","response","data","setState","hits","photosArray","className","map","photo","src","webformatURL","id","alt","tags","Component","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","currentTarget","target","window","addEventListener","removeEventListener","createPortal","onClick","Searchbar","handleChange","value","handleSubmit","preventDefault","reset","onSubmit","type","autocomplete","autofocus","placeholder","onChange","App","showModal","toggleModal","ReactDOM","render","StrictMode","getElementById"],"mappings":"iRAkDeA,E,4MA9CbC,MAAQ,CACNC,OAAQ,2BACRC,OAAQ,qCACRC,KAAM,EACNC,QAAS,MACTC,OAAQ,I,uDAMV,WAAqB,IAAD,OAClB,EAA0CC,KAAKN,MAAvCC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,OAAQE,EAAxB,EAAwBA,QAASD,EAAjC,EAAiCA,KAC3BI,EAAS,UAAMN,EAAN,cAAkBG,EAAlB,YAA6BD,EAA7B,gBAAyCD,EAAzC,wDACfM,QAAQC,IAAIF,GAEZG,IAAMC,IAAIJ,GAAWK,MAAK,SAACC,GACzB,IAAMR,EAASQ,EAASC,KACxB,EAAKC,SAAS,CAAEV,OAAQA,EAAOW,OAC/BR,QAAQC,IAAI,EAAKT,MAAMK,a,oBAM3B,WACE,IAAMY,EAAcX,KAAKN,MAAMK,OAE/B,OADAG,QAAQC,IAAIQ,GAEV,qBAAIC,UAAU,eAAd,UACGD,EAAYE,KAAI,SAACC,GAAD,OACf,oBAAIF,UAAU,mBAAd,SACE,qBACEG,IAAKD,EAAME,aACXC,GAAIH,EAAMG,GACVC,IAAKJ,EAAMK,KACXP,UAAU,gCAPlB,W,GA9BqBQ,aCOrBC,EAAYC,SAASC,cAAc,eAEpBC,E,4MAUnBC,cAAgB,SAACC,GACA,WAAXA,EAAEC,OACJzB,QAAQC,IAAI,oBACZ,EAAKyB,MAAMC,Y,EAGfC,oBAAsB,SAACJ,GACrBxB,QAAQC,IAAI,uBACRuB,EAAEK,gBAAkBL,EAAEM,QACxB,EAAKJ,MAAMC,W,uDAlBf,WACEI,OAAOC,iBAAiB,UAAWlC,KAAKyB,iB,kCAG1C,WACEvB,QAAQC,IAAI,gBACZ8B,OAAOE,oBAAoB,UAAWnC,KAAKyB,iB,oBAe7C,WACE,OAAOW,uBACL,qBAAKxB,UAAU,UAAUyB,QAASrC,KAAK8B,oBAAvC,SACE,qBAAKlB,UAAU,QAAf,SACE,qBAEEM,IAAI,SAIVG,O,GAhC6BD,aCuCpBkB,E,4MA7Cb5C,MAAQ,CACNI,QAAS,GACTD,KAAM,G,EAGR0C,aAAe,SAACb,GACd,EAAKjB,SAAS,CAAEX,QAAS4B,EAAEM,OAAOQ,S,EAGpCC,aAAe,SAACf,GACdA,EAAEgB,iBACFxC,QAAQC,IAAI,EAAKT,MAAMI,SAGvB,EAAKW,SAAS,CAAEX,QAAS,EAAKJ,MAAMI,W,EAKtC6C,MAAQ,WACN,EAAKlC,SAAS,CAAEX,QAAS,GAAID,KAAM,K,4CAGrC,WACE,OACE,wBAAQe,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAagC,SAAU5C,KAAKyC,aAA5C,UACE,wBAAQI,KAAK,SAASjC,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACViC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAAUjD,KAAKuC,wB,GAtCHnB,aCiCT8B,E,4MAhCbxD,MAAQ,CACNyD,WAAW,G,EAGbC,YAAc,WACZ,EAAK3C,UAAS,kBAAoB,CAChC0C,WADY,EAAGA,e,EAKnBP,SAAW,SAAClB,GACVxB,QAAQC,IAAIuB,GACZxB,QAAQC,IAAIuB,EAAEM,S,4CAGhB,WACE,IAAQmB,EAAcnD,KAAKN,MAAnByD,UACR,OACE,sBAAKvC,UAAU,MAAf,UACGuC,GACC,cAAC,EAAD,CACEtB,QAAS7B,KAAKoD,cAIlB,cAAC,EAAD,CAAWR,SAAU5C,KAAK4C,WAC1B,cAAC,EAAD,W,GA3BUxB,aCClBiC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFjC,SAASkC,eAAe,W","file":"static/js/main.182c6b13.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    ApiURL: \"https://pixabay.com/api/\",\r\n    ApiKEY: \"22378811-a58ebb6e61fd3d97b045a8b50\",\r\n    page: 1,\r\n    keyWord: \"sea\",\r\n    photos: [],\r\n  };\r\n\r\n  //keyWord это пропс, динамический, с 17й строки searchbar\r\n\r\n  // ==================\r\n  componentDidMount() {\r\n    const { ApiURL, ApiKEY, keyWord, page } = this.state;\r\n    const searchURL = `${ApiURL}?q=${keyWord}=${page}&key=${ApiKEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n    console.log(searchURL);\r\n\r\n    axios.get(searchURL).then((response) => {\r\n      const photos = response.data;\r\n      this.setState({ photos: photos.hits });\r\n      console.log(this.state.photos);\r\n      //тут массив из объектов\r\n    });\r\n  }\r\n  // ==================\r\n\r\n  render() {\r\n    const photosArray = this.state.photos;\r\n    console.log(photosArray);\r\n    return (\r\n      <ul className=\"ImageGallery\">\r\n        {photosArray.map((photo) => (\r\n          <li className=\"ImageGalleryItem\">\r\n            <img\r\n              src={photo.webformatURL}\r\n              id={photo.id}\r\n              alt={photo.tags}\r\n              className=\"ImageGalleryItem-image\"\r\n            />\r\n          </li>\r\n        ))}\r\n        ;\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n\r\n// присваивать keyWord значение с инпута\r\n// пагинация\r\n// модалку активировать\r\n//largeImageURL передавать модалке\r\n","//При клике по элементу галереи должно открываться модальное окно с темным оверлеем\r\n//и отображаться большая версия изображения.Модальное окно должно закрываться\r\n//по нажатию клавиши ESC или по клику на оверлее.\r\n\r\n//Внешний вид похож на функционал этого VanillaJS-плагина, только вместо\r\n//белого модального окна рендерится изображение(в примере нажми Run).\r\n\r\nimport React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    console.log(\"will unmount\");\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"escape\") {\r\n      console.log(\"ESC, close modal\");\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleBackdropClick = (e) => {\r\n    console.log(\"click onto backdrop\");\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">\r\n          <img\r\n            // src={largeImageURL}\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\n// {/* {this.props.children} */}\r\n","//Компонент принимает один проп onSubmit -\r\n//функцию для передачи значения инпута\r\n//при сабмите формы.\r\nimport React, { Component } from \"react\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    keyWord: \"\",\r\n    page: 1,\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ keyWord: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(this.state.keyWord);\r\n    //тут значение keyWord\r\n    //тут вызов функции axios api c пропсом keyWord\r\n    this.setState({ keyWord: this.state.keyWord });\r\n\r\n    // this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ keyWord: \"\", page: 1 });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from \"react\";\nimport ImageGallery from \"./components/imageGallery/ImageGallery\";\nimport Modal from \"./components/modal/Modal\";\nimport Searchbar from \"./components/searchbar/Searchbar\";\n\nclass App extends Component {\n  state = {\n    showModal: false,\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onSubmit = (e) => {\n    console.log(e);\n    console.log(e.target);\n  };\n\n  render() {\n    const { showModal } = this.state;\n    return (\n      <div className=\"App\">\n        {showModal && (\n          <Modal\n            onClose={this.toggleModal}\n            // largeImageURL={largeImageURL}\n          />\n        )}\n        <Searchbar onSubmit={this.onSubmit} />\n        <ImageGallery />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}